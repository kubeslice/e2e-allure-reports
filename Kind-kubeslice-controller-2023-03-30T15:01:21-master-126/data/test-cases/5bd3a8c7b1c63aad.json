{"uid":"5bd3a8c7b1c63aad","name":"[It] Cluster CR tests Cluster CR validation Register worker cluster (with minimal values in cluster CR)","historyId":"Hub Suite:Hub Suite#[It] Cluster CR tests Cluster CR validation Register worker cluster (with minimal values in cluster CR)","time":{"start":1680187794000,"stop":1680187804711,"duration":10711},"status":"failed","statusMessage":"Unexpected error:\n    <*shell.ErrWithCmdOutput | 0xc000383128>: {\n        Underlying: <*exec.ExitError | 0xc000841860>{\n            ProcessState: {\n                pid: 6991,\n                status: 256,\n                rusage: {\n                    Utime: {Sec: 1, Usec: 488271},\n                    Stime: {Sec: 0, Usec: 171111},\n                    Maxrss: 87804,\n                    Ixrss: 0,\n                    Idrss: 0,\n                    Isrss: 0,\n                    Minflt: 3450,\n                    Majflt: 0,\n                    Nswap: 0,\n                    Inblock: 0,\n                    Oublock: 13472,\n                    Msgsnd: 0,\n                    Msgrcv: 0,\n                    Nsignals: 0,\n                    Nvcsw: 2585,\n                    Nivcsw: 3016,\n                },\n            },\n            Stderr: nil,\n        },\n        Output: {\n            stdout: {\n                Lines: nil,\n                merged: {\n                    Mutex: {state: 0, sema: 0},\n                    Lines: [\n                        \"WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /e2e/assets/kubeconfig/kinde2e.yaml\",\n                        \"WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /e2e/assets/kubeconfig/kinde2e.yaml\",\n                        \"install.go:194: [debug] Original chart version: \\\"\\\"\",\n                        \"install.go:211: [debug] CHART PATH: /root/.cache/helm/repository/kubeslice-worker-0.7.1.tgz\",\n                        \"\",\n                        \"client.go:133: [debug] creating 1 resource(s)\",\n                        \"install.go:154: [debug] CRD serviceexports.networking.kubeslice.io is already present. Skipping.\",\n                        \"client.go:133: [debug] creating 1 resource(s)\",\n                        \"install.go:154: [debug] CRD serviceimports.networking.kubeslice.io is already present. Skipping.\",\n                        \"client.go:133: [debug] creating 1 resource(s)\",\n                        \"install.go:154: [debug] CRD slicegateways.networking.kubeslice.io is already present. Skipping.\",\n                        \"client.go:133: [debug] creating 1 resource(s)\",\n                        \"install.go:154: [debug] CRD slices.networking.kubeslice.io is already present. Skipping.\",\n                        \"client.go:133: [debug] creating 1 resource(s)\",\n                        \"install.go:154: [debug] CRD networkservices.networkservicemesh.io is already present. Skipping.\",\n                        \"client.go:133: [debug] creating 1 resource(s)\",\n                        \"install.go:154: [debug] CRD networkserviceendpoints.networkservicemesh.io is already present. Skipping.\",\n                        \"client.go:133: [debug] creating 1 resource(s)\",\n                        \"install.go:154: [debug] CRD spiffeids.spiffeid.spiffe.io is already present. Skipping.\",\n                        \"client.go:133: [debug] creating 1 resource(s)\",\n                        \"Error: INSTALLATION FAILED: create: failed to create: secrets \\\"sh.helm.release.v1.kubeslice-worker.v1\\\" is forbidden: unable to create new content in namespace kubeslice-system because it is being terminated\",\n                        \"helm.go:84: [debug] secrets \\\"sh.helm.release.v1.kubeslice-worker.v1\\\" is forbidden: unable to create new content in namespace kubeslice-system because it is being terminated\",\n                        \"create: failed to create\",\n                        \"helm.sh/helm/v3/pkg/storage/driver.(*Secrets).Create\",\n                        \"\\thelm.sh/helm/v3/pkg/storage/driver/secrets.go:164\",\n                        \"helm.sh/helm/v3/pkg/storage.(*Storage).Create\",\n                        \"\\thelm.sh/helm/v3/pkg/storage/storage.go:69\",\n                        \"helm.sh/helm/v3/pkg/action.(*Install).RunWithContext\",\n                        \"\\thelm.sh/helm/v3/pkg/action/install.go:343\",\n                        \"main.runInstall\",\n                        \"\\thelm.sh/helm/v3/cmd/helm/install.go:280\",\n                     ...\n\nGomega truncated this representation as it exceeds 'format.MaxLength'.\nConsider having the object provide a custom 'GomegaStringer' representation\nor adjust the parameters in Gomega's 'format' package.\n\nLearn more here: https://onsi.github.io/gomega/#adjusting-output\n\n    error while running command: exit status 1; WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /e2e/assets/kubeconfig/kinde2e.yaml\n    WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /e2e/assets/kubeconfig/kinde2e.yaml\n    install.go:194: [debug] Original chart version: \"\"\n    install.go:211: [debug] CHART PATH: /root/.cache/helm/repository/kubeslice-worker-0.7.1.tgz\n    \n    client.go:133: [debug] creating 1 resource(s)\n    install.go:154: [debug] CRD serviceexports.networking.kubeslice.io is already present. Skipping.\n    client.go:133: [debug] creating 1 resource(s)\n    install.go:154: [debug] CRD serviceimports.networking.kubeslice.io is already present. Skipping.\n    client.go:133: [debug] creating 1 resource(s)\n    install.go:154: [debug] CRD slicegateways.networking.kubeslice.io is already present. Skipping.\n    client.go:133: [debug] creating 1 resource(s)\n    install.go:154: [debug] CRD slices.networking.kubeslice.io is already present. Skipping.\n    client.go:133: [debug] creating 1 resource(s)\n    install.go:154: [debug] CRD networkservices.networkservicemesh.io is already present. Skipping.\n    client.go:133: [debug] creating 1 resource(s)\n    install.go:154: [debug] CRD networkserviceendpoints.networkservicemesh.io is already present. Skipping.\n    client.go:133: [debug] creating 1 resource(s)\n    install.go:154: [debug] CRD spiffeids.spiffeid.spiffe.io is already present. Skipping.\n    client.go:133: [debug] creating 1 resource(s)\n    Error: INSTALLATION FAILED: create: failed to create: secrets \"sh.helm.release.v1.kubeslice-worker.v1\" is forbidden: unable to create new content in namespace kubeslice-system because it is being terminated\n    helm.go:84: [debug] secrets \"sh.helm.release.v1.kubeslice-worker.v1\" is forbidden: unable to create new content in namespace kubeslice-system because it is being terminated\n    create: failed to create\n    helm.sh/helm/v3/pkg/storage/driver.(*Secrets).Create\n    \thelm.sh/helm/v3/pkg/storage/driver/secrets.go:164\n    helm.sh/helm/v3/pkg/storage.(*Storage).Create\n    \thelm.sh/helm/v3/pkg/storage/storage.go:69\n    helm.sh/helm/v3/pkg/action.(*Install).RunWithContext\n    \thelm.sh/helm/v3/pkg/action/install.go:343\n    main.runInstall\n    \thelm.sh/helm/v3/cmd/helm/install.go:280\n    main.newInstallCmd.func2\n    \thelm.sh/helm/v3/cmd/helm/install.go:139\n    github.com/spf13/cobra.(*Command).execute\n    \tgithub.com/spf13/cobra@v1.6.1/command.go:916\n    github.com/spf13/cobra.(*Command).ExecuteC\n    \tgithub.com/spf13/cobra@v1.6.1/command.go:1044\n    github.com/spf13/cobra.(*Command).Execute\n    \tgithub.com/spf13/cobra@v1.6.1/command.go:968\n    main.main\n    \thelm.sh/helm/v3/cmd/helm/helm.go:83\n    runtime.main\n    \truntime/proc.go:250\n    runtime.goexit\n    \truntime/asm_amd64.s:1571\n    INSTALLATION FAILED\n    main.newInstallCmd.func2\n    \thelm.sh/helm/v3/cmd/helm/install.go:141\n    github.com/spf13/cobra.(*Command).execute\n    \tgithub.com/spf13/cobra@v1.6.1/command.go:916\n    github.com/spf13/cobra.(*Command).ExecuteC\n    \tgithub.com/spf13/cobra@v1.6.1/command.go:1044\n    github.com/spf13/cobra.(*Command).Execute\n    \tgithub.com/spf13/cobra@v1.6.1/command.go:968\n    main.main\n    \thelm.sh/helm/v3/cmd/helm/helm.go:83\n    runtime.main\n    \truntime/proc.go:250\n    runtime.goexit\n    \truntime/asm_amd64.s:1571\noccurred","statusTrace":"/e2e/tests/hub/t_cluster_test.go:133\ngithub.com/kubeslice/kubeslice-e2e-automation/tests/hub_test.glob..func4.1.4()\n\t/e2e/tests/hub/t_cluster_test.go:133 +0x9f3","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Report Entries:","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/hub/t_cluster_test.go:95","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-03-30T14:55:05.297995579Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Creates CR using yaml Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"--","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/hub/t_cluster_test.go:102","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-03-30T14:55:05.830821785Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Wait for secret Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"--","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/hub/t_cluster_test.go:109","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-03-30T14:55:07.848180933Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Install worker operator on a worker cluster Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"--","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/hub/t_cluster_test.go:40","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-03-30T14:55:09.79342481Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Uninstall Project CR Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"--","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/hub/t_cluster_test.go:42","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-03-30T14:55:09.989878933Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Waiting for project namespace to be deleted Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"Hub Suite"},{"name":"testClass","value":"Hub Suite"},{"name":"package","value":"Hub Suite"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"5bd3a8c7b1c63aad.json","parameterValues":[]}