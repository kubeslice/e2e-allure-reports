{"uid":"c7d1da1553dcb174","name":"[It] mutation webhook tests Testing mutation webhook functionality after namespace onboard Should mutate deployments with labels and annotations with nsm sidecars injected","historyId":"Worker Suite:Worker Suite#[It] mutation webhook tests Testing mutation webhook functionality after namespace onboard Should mutate deployments with labels and annotations with nsm sidecars injected","time":{"start":1686747994000,"stop":1686748009516,"duration":15516},"status":"failed","statusMessage":"Unexpected error:\n    <*shell.ErrWithCmdOutput | 0xc000aef050>: {\n        Underlying: <*exec.ExitError | 0xc00095fa60>{\n            ProcessState: {\n                pid: 7941,\n                status: 256,\n                rusage: {\n                    Utime: {Sec: 0, Usec: 270064},\n                    Stime: {Sec: 0, Usec: 483866},\n                    Maxrss: 122552,\n                    Ixrss: 0,\n                    Idrss: 0,\n                    Isrss: 0,\n                    Minflt: 23413,\n                    Majflt: 0,\n                    Nswap: 0,\n                    Inblock: 8,\n                    Oublock: 21328,\n                    Msgsnd: 0,\n                    Msgrcv: 0,\n                    Nsignals: 0,\n                    Nvcsw: 2008,\n                    Nivcsw: 3668,\n                },\n            },\n            Stderr: nil,\n        },\n        Output: {\n            stdout: {\n                Lines: nil,\n                merged: {\n                    Mutex: {state: 0, sema: 0},\n                    Lines: [\n                        \"The SliceConfig \\\"slice-green\\\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \\\"iperf\\\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\",\n                    ],\n                },\n            },\n            stderr: {\n                Lines: [\n                    \"The SliceConfig \\\"slice-green\\\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \\\"iperf\\\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\",\n                ],\n                merged: {\n                    Mutex: {state: 0, sema: 0},\n                    Lines: [\n                        \"The SliceConfig \\\"slice-green\\\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \\\"iperf\\\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\",\n                    ],\n                },\n            },\n            merged: {\n                Mutex: {state: 0, sema: 0},\n                Lines: [\n                    \"The SliceConfig \\\"slice-green\\\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \\\"iperf\\\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\",\n                ],\n            },\n        },\n    }\n    error while running command: exit status 1; The SliceConfig \"slice-green\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \"iperf\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\noccurred","statusTrace":"/e2e/tests/worker/t_webhook_test.go:37\ngithub.com/kubeslice/kubeslice-e2e-automation/tests/worker_test.glob..func16.1.1.1()\n\t/e2e/tests/worker/t_webhook_test.go:37 +0x158\ngithub.com/kubeslice/kubeslice-e2e-automation/tests/worker_test.glob..func16.1.1()\n\t/e2e/tests/worker/t_webhook_test.go:34 +0x106","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[{"name":"","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Report Entries:","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/worker/t_webhook_test.go:34","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-06-14T13:17:32.036160827Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Installing slice Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"--","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/worker/t_webhook_test.go:68","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-06-14T13:17:33.297844773Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Uninstall slice Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"--","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/worker/t_webhook_test.go:74","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-06-14T13:17:33.98363428Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Wait for deboarding to complete Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"--","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/worker/t_webhook_test.go:88","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-06-14T13:17:34.579917884Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Deleting and waiting for the namespace to be removed Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"--","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"By Step","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"/e2e/tests/worker/t_webhook_test.go:100","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"2023-06-14T13:17:46.918880962Z","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"&{Text:Deleting slice Duration:0s}","time":{},"steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"Worker Suite"},{"name":"testClass","value":"Worker Suite"},{"name":"package","value":"Worker Suite"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":11,"broken":0,"skipped":1,"passed":8,"unknown":0,"total":20},"items":[{"uid":"75a727ebfd01e198","status":"passed","time":{"start":1686123600000,"stop":1686123627076,"duration":27076}},{"uid":"b42285f08777fccc","status":"failed","statusDetails":"Unexpected error:\n    <*shell.ErrWithCmdOutput | 0xc00094bc38>: {\n        Underlying: <*exec.ExitError | 0xc000a3f080>{\n            ProcessState: {\n                pid: 8603,\n                status: 256,\n                rusage: {\n                    Utime: {Sec: 0, Usec: 394351},\n                    Stime: {Sec: 0, Usec: 130006},\n                    Maxrss: 102648,\n                    Ixrss: 0,\n                    Idrss: 0,\n                    Isrss: 0,\n                    Minflt: 15270,\n                    Majflt: 1,\n                    Nswap: 0,\n                    Inblock: 152,\n                    Oublock: 21328,\n                    Msgsnd: 0,\n                    Msgrcv: 0,\n                    Nsignals: 0,\n                    Nvcsw: 787,\n                    Nivcsw: 1728,\n                },\n            },\n            Stderr: nil,\n        },\n        Output: {\n            stdout: {\n                Lines: nil,\n                merged: {\n                    Mutex: {state: 0, sema: 0},\n                    Lines: [\n                        \"The SliceConfig \\\"slice-green\\\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \\\"iperf\\\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\",\n                    ],\n                },\n            },\n            stderr: {\n                Lines: [\n                    \"The SliceConfig \\\"slice-green\\\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \\\"iperf\\\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\",\n                ],\n                merged: {\n                    Mutex: {state: 0, sema: 0},\n                    Lines: [\n                        \"The SliceConfig \\\"slice-green\\\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \\\"iperf\\\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\",\n                    ],\n                },\n            },\n            merged: {\n                Mutex: {state: 0, sema: 0},\n                Lines: [\n                    \"The SliceConfig \\\"slice-green\\\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \\\"iperf\\\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\",\n                ],\n            },\n        },\n    }\n    error while running command: exit status 1; The SliceConfig \"slice-green\" is invalid: Spec.NamespaceIsolationProfile.ApplicationNamespaces: Invalid value: \"iperf\": The given namespace: iperf in cluster cluster1 is already acquired by other slice: blue\noccurred","time":{"start":1685418965000,"stop":1685418982009,"duration":17009}},{"uid":"ddee05a13961cb6f","status":"passed","time":{"start":1685089042000,"stop":1685089065985,"duration":23985}},{"uid":"604cbf70b44f93e9","status":"skipped","statusDetails":"pending","time":{"start":1682085571000,"stop":1682085571000,"duration":0}},{"uid":"d9e943a2c41875d6","status":"passed","time":{"start":1680365696000,"stop":1680365725993,"duration":29993}},{"uid":"befeb18d8d1564d1","status":"passed","time":{"start":1680355208000,"stop":1680355238601,"duration":30601}},{"uid":"4aa5d7bad06bc08a","status":"passed","time":{"start":1679495757000,"stop":1679495783674,"duration":26674}},{"uid":"55812d483618fc98","status":"passed","time":{"start":1679487077000,"stop":1679487124645,"duration":47645}},{"uid":"fcb8e606e845657b","status":"passed","time":{"start":1679376956000,"stop":1679376992334,"duration":36334}},{"uid":"b465ce24a3500b5f","status":"passed","time":{"start":1679373816000,"stop":1679373854241,"duration":38241}},{"uid":"3c848b1a20089016","status":"failed","statusDetails":"Timed out after 120.001s.\nExpected success, but got an error:\n    <*errors.StatusError | 0xc0006320a0>: {\n        ErrStatus: {\n            TypeMeta: {Kind: \"\", APIVersion: \"\"},\n            ListMeta: {\n                SelfLink: \"\",\n                ResourceVersion: \"\",\n                Continue: \"\",\n                RemainingItemCount: nil,\n            },\n            Status: \"Failure\",\n            Message: \"namespaces \\\"iperf\\\" not found\",\n            Reason: \"NotFound\",\n            Details: {Name: \"iperf\", Group: \"\", Kind: \"namespaces\", UID: \"\", Causes: nil, RetryAfterSeconds: 0},\n            Code: 404,\n        },\n    }\n    namespaces \"iperf\" not found","time":{"start":1671534476000,"stop":1671534598873,"duration":122873}},{"uid":"62d837803ee21a5a","status":"failed","statusDetails":"Timed out after 120.000s.\nExpected success, but got an error:\n    <*errors.StatusError | 0xc0008b6960>: {\n        ErrStatus: {\n            TypeMeta: {Kind: \"\", APIVersion: \"\"},\n            ListMeta: {\n                SelfLink: \"\",\n                ResourceVersion: \"\",\n                Continue: \"\",\n                RemainingItemCount: nil,\n            },\n            Status: \"Failure\",\n            Message: \"namespaces \\\"iperf\\\" not found\",\n            Reason: \"NotFound\",\n            Details: {Name: \"iperf\", Group: \"\", Kind: \"namespaces\", UID: \"\", Causes: nil, RetryAfterSeconds: 0},\n            Code: 404,\n        },\n    }\n    namespaces \"iperf\" not found","time":{"start":1671534257000,"stop":1671534378949,"duration":121949}},{"uid":"e29b86d4341af0c9","status":"failed","statusDetails":"Timed out after 120.001s.\nExpected success, but got an error:\n    <*errors.StatusError | 0xc000aba280>: {\n        ErrStatus: {\n            TypeMeta: {Kind: \"\", APIVersion: \"\"},\n            ListMeta: {\n                SelfLink: \"\",\n                ResourceVersion: \"\",\n                Continue: \"\",\n                RemainingItemCount: nil,\n            },\n            Status: \"Failure\",\n            Message: \"namespaces \\\"iperf\\\" not found\",\n            Reason: \"NotFound\",\n            Details: {Name: \"iperf\", Group: \"\", Kind: \"namespaces\", UID: \"\", Causes: nil, RetryAfterSeconds: 0},\n            Code: 404,\n        },\n    }\n    namespaces \"iperf\" not found","time":{"start":1671506881000,"stop":1671507003005,"duration":122005}},{"uid":"b319b84bb8becb1","status":"failed","statusDetails":"Timed out after 120.001s.\nExpected success, but got an error:\n    <*errors.StatusError | 0xc00086abe0>: {\n        ErrStatus: {\n            TypeMeta: {Kind: \"\", APIVersion: \"\"},\n            ListMeta: {\n                SelfLink: \"\",\n                ResourceVersion: \"\",\n                Continue: \"\",\n                RemainingItemCount: nil,\n            },\n            Status: \"Failure\",\n            Message: \"namespaces \\\"iperf\\\" not found\",\n            Reason: \"NotFound\",\n            Details: {Name: \"iperf\", Group: \"\", Kind: \"namespaces\", UID: \"\", Causes: nil, RetryAfterSeconds: 0},\n            Code: 404,\n        },\n    }\n    namespaces \"iperf\" not found","time":{"start":1671506678000,"stop":1671506799391,"duration":121391}},{"uid":"6a3158ac480cb80f","status":"failed","statusDetails":"Timed out after 120.001s.\nExpected success, but got an error:\n    <*errors.StatusError | 0xc00073d4a0>: {\n        ErrStatus: {\n            TypeMeta: {Kind: \"\", APIVersion: \"\"},\n            ListMeta: {\n                SelfLink: \"\",\n                ResourceVersion: \"\",\n                Continue: \"\",\n                RemainingItemCount: nil,\n            },\n            Status: \"Failure\",\n            Message: \"namespaces \\\"iperf\\\" not found\",\n            Reason: \"NotFound\",\n            Details: {Name: \"iperf\", Group: \"\", Kind: \"namespaces\", UID: \"\", Causes: nil, RetryAfterSeconds: 0},\n            Code: 404,\n        },\n    }\n    namespaces \"iperf\" not found","time":{"start":1671506551000,"stop":1671506672502,"duration":121502}},{"uid":"30ccfcaca285325f","status":"failed","statusDetails":"Timed out after 120.001s.\nExpected success, but got an error:\n    <*errors.StatusError | 0xc0009559a0>: {\n        ErrStatus: {\n            TypeMeta: {Kind: \"\", APIVersion: \"\"},\n            ListMeta: {\n                SelfLink: \"\",\n                ResourceVersion: \"\",\n                Continue: \"\",\n                RemainingItemCount: nil,\n            },\n            Status: \"Failure\",\n            Message: \"namespaces \\\"iperf\\\" not found\",\n            Reason: \"NotFound\",\n            Details: {Name: \"iperf\", Group: \"\", Kind: \"namespaces\", UID: \"\", Causes: nil, RetryAfterSeconds: 0},\n            Code: 404,\n        },\n    }\n    namespaces \"iperf\" not found","time":{"start":1671434217000,"stop":1671434338738,"duration":121738}},{"uid":"ad58b538d2cfc6f6","status":"failed","statusDetails":"Timed out after 120.001s.\nExpected success, but got an error:\n    <*errors.StatusError | 0xc000993d60>: {\n        ErrStatus: {\n            TypeMeta: {Kind: \"\", APIVersion: \"\"},\n            ListMeta: {\n                SelfLink: \"\",\n                ResourceVersion: \"\",\n                Continue: \"\",\n                RemainingItemCount: nil,\n            },\n            Status: \"Failure\",\n            Message: \"namespaces \\\"iperf\\\" not found\",\n            Reason: \"NotFound\",\n            Details: {Name: \"iperf\", Group: \"\", Kind: \"namespaces\", UID: \"\", Causes: nil, RetryAfterSeconds: 0},\n            Code: 404,\n        },\n    }\n    namespaces \"iperf\" not found","time":{"start":1671429952000,"stop":1671430073357,"duration":121357}},{"uid":"73a94b16a8fb6e4d","status":"failed","statusDetails":"Timed out after 240.001s.\nExpected\n    <int>: 0\nto equal\n    <int>: 1","time":{"start":1671000948000,"stop":1671001215983,"duration":267983}},{"uid":"f66f7d041d4446f8","status":"failed","statusDetails":"Unexpected error:\n    <*errors.StatusError | 0xc0008a41e0>: {\n        ErrStatus: {\n            TypeMeta: {Kind: \"\", APIVersion: \"\"},\n            ListMeta: {\n                SelfLink: \"\",\n                ResourceVersion: \"\",\n                Continue: \"\",\n                RemainingItemCount: nil,\n            },\n            Status: \"Failure\",\n            Message: \"namespaces \\\"iperf\\\" already exists\",\n            Reason: \"AlreadyExists\",\n            Details: {Name: \"iperf\", Group: \"\", Kind: \"namespaces\", UID: \"\", Causes: nil, RetryAfterSeconds: 0},\n            Code: 409,\n        },\n    }\n    namespaces \"iperf\" already exists\noccurred","time":{"start":1670935966000,"stop":1670936018999,"duration":52999}}]},"tags":[]},"source":"c7d1da1553dcb174.json","parameterValues":[]}